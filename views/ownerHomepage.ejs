<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RestoConnect - Manager Home</title>
    <link rel="stylesheet" href="/css/owner_Homepage_dashboard.css">
</head>
<body>
    <header>
        <h1>RestoConnect - Manager Home</h1>
    </header>
    <main>
        <div class="container">
            <h2>
                Welcome to Your <br>
                <span class="highlight">Management Portal</span>
            </h2>
            <p>Select your restaurant to access the dashboard</p>
            <select id="restaurantSelect">
                <option value="restaurant1"> <%= restaurant %> vizag</option>
                <option value="restaurant2"><%= restaurant %> vizag2</option>
                <option value="restaurant3"> <%= restaurant %> vizag3</option>
            </select>
            <button onclick="goToDashboard()">Go to Dashboard</button>
            <div class="links">
                <a href="/owner/menuManagement" class="link-btn">Menu Management</a>
            </div>




            <section class="staff-management">
                <h2>Staff Management</h2>
          
                <section class="add-staff-form">
                  <h3>Add Staff</h3>
                  <form action="/owner/staffManagement/add" method="POST">
                    <label for="username">Username:</label>
                    <input type="text" name="username" id="username" required />
                    <label for="restaurantName">Restaurant:</label>
                    <input type="text" name="restaurantName" id="restaurantName" value="<%= restaurant %>" readonly />
                    <label for="password">Password:</label>
                    <input type="password" name="password" id="password" required />
                    <button type="submit">Add Staff</button>
                  </form>
                </section>
          
                <section class="staff-list">
                  <h3>Staff List</h3>
                  <% if (staffList && staffList.length > 0) { %>
                    <% staffList.forEach(staff => { %>
                      <div class="staff-card">
                        <form action="/owner/staffManagement/edit/<%= staff._id %>" method="POST" class="staff-info">
                          <label>Username:</label>
                          <input type="text" name="username" value="<%= staff.username %>" required />
                          <label>Password:</label>
                          <input type="password" name="password" placeholder="New Password (leave blank to keep current)" />
                          <button type="submit" class="edit-btn">Save</button>
                        </form>
                        <form action="/owner/staffManagement/delete/<%= staff._id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this staff member?');">
                          <button type="submit" class="delete-btn">Delete</button>
                        </form>
                      </div>
                    <% }) %>
                  <% } else { %>
                    <p>No staff members found.</p>
                  <% } %>
                </section>
                <section class="task-list">
                  <h3>Tasks</h3>
                  <% if (tasks && tasks.length > 0) { %>
                    <ul>
                      <% tasks.forEach(task => { %>
                        <li>
                          <%= task.name %>
                          <form action="/owner/staffManagement/task/delete/<%= task.id %>" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this task?');">
                            <button type="submit" class="delete-btn">Delete</button>
                          </form>
                        </li>
                      <% }) %>
                    </ul>
                  <% } else { %>
                    <p>No tasks found.</p>
                  <% } %>
                </section>
              </section>

              <section class="table-management">
                <h2>Table Management</h2>

                <section class="add-table-form">
                  <h3>Add Table</h3>
                  <form action="/owner/tables/add" method="POST">
                    <label for="tableNumber">Table Number:</label>
                    <input type="text" name="number" id="tableNumber" required />
                    <label for="seats">Number of Seats:</label>
                    <input type="number" name="seats" id="seats" min="1" required />
                    <button type="submit">Add Table</button>
                  </form>
                </section>

                <section class="table-list">
                  <h3>Current Tables</h3>
                  <% if (tables && tables.length > 0) { %>
                    <ul>
                      <% tables.forEach(table => { %>
                        <li>
                          Table <%= table.number %> - Seats: <%= table.seats %> - Status: <%= table.status %>
                          <form action="/owner/tables/delete/<%= table.number %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this table?');" style="display:inline;">
                            <button type="submit" class="delete-btn">Delete</button>
                          </form>
                        </li>
                      <% }) %>
                    </ul>
                  <% } else { %>
                    <p>No tables found.</p>
                  <% } %>
                </section>
              </section>
          </main>
          <script src="/js/ownerHomepage.js"></script>
          
        </div>
    </main>
    <script src="/js/ownerHomepage.js"></script>
</body>
</html>
